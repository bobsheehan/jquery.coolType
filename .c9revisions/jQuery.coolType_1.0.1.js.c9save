{"ts":1338973554050,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"(function ($)\n{\n    $.coolType =\n    {\n        setup: function (options)\n        {\n            var defaultSettings = $.extend({\n                speed: 25,\n                caretChar: '\\u2588',\n                playSound: false,\n                soundFile: new String(),\n                volume: 100,\n                insertBefore: new String(),\n                insertAfter: new String(),\n                delayBefore: 0,\n                delayAfter: 0,\n                style: new String(),\n                inline: false,\n                caretBlinkSpeed: 300,\n                scrollToBottom: false\n            }, options);\n            $(window).data('coolTypeDefaults', defaultSettings);\n\n            if (defaultSettings.scrollToBottom && !$.scrollTo)\n                throw 'You are missing a reference to the scrollTo jQuery plugin. Visit http://plugins.jquery.com/project/ScrollTo to obtain it.';\n\n            if (defaultSettings.playSound && window['soundManager'] == undefined)\n                throw 'You are missing a reference to the sound manager script. Visit http://www.schillmania.com/projects/soundmanager2/ to obtain it.';\n            else\n            {\n                soundManager.onready(function ()\n                {\n                    soundManager.destroySound('coolType');\n                    soundManager.createSound(\n                    {\n                        id: 'coolType',\n                        url: defaultSettings.soundFile,\n                        autoLoad: true,\n                        stream: true,\n                        multishot: true,\n                        loops: 999999999,\n                        volume: defaultSettings.volume\n                    });\n                    soundManager.load('coolType');\n                });\n            }\n        }\n    }\n\n    $.fn.coolType = function (text, callback, options)\n    {\n        var $this = this;\n\n        var settings = $.extend($(window).data('coolTypeDefaults'), options);\n\n        if (settings.scrollToBottom && !$.scrollTo)\n            throw 'You are missing a reference to the scrollTo jQuery plugin. Visit http://plugins.jquery.com/project/ScrollTo to obtain it.';\n        if (settings.playSound && window['soundManager'] == undefined)\n            throw 'You are missing a reference to the sound manager script. Visit http://www.schillmania.com/projects/soundmanager2/ to obtain it.';\n\n        if (!settings.inline) $this.append('<div class=\"coolType\" style=\"' + settings.style + '\"></div>');\n        else $this.append('<span class=\"coolType\" style=\"' + settings.style + '\"></span>');\n\n        var $container = $this.find('.coolType:last-child');\n        $container.data('coolTypeText', new String());\n        $container.append(settings.insertBefore + '<span style=\"' + settings.style + '\" class=\"coolTypeLineContainer\"></span><span id=\"coolTypeCaret\">' + settings.caretChar + '</span>' + settings.insertAfter);\n\n        var $lineContainer = $container.find('.coolTypeLineContainer');\n        var $caret = $container.find('#coolTypeCaret');\n\n        function blinkCaret()\n        {\n            if ($caret.data('Visible')) hideCaret();\n            else showCaret();\n        }\n\n        function showCaret()\n        {\n            $caret.data('Visible', true);\n            $caret.html(settings.caretChar);\n        }\n\n        function hideCaret()\n        {\n            $caret.data('Visible', false);\n            $caret.html('&nbsp;');\n        }\n\n        var blinkId = setInterval(blinkCaret, settings.caretBlinkSpeed);\n\n        var index = 0;\n        setTimeout(function ()\n        {\n            clearInterval(blinkId);\n            showCaret();\n            if (settings.playSound)\n                soundManager.play('coolType');\n            var intervalId = setInterval(function ()\n            {\n                var char = text.substr(index, 1);\n                if (index != text.length)\n                {\n                    var newText = $container.data('coolTypeText') + char;\n                    $container.data('coolTypeText', newText);\n                    $lineContainer.text(newText);\n                    if (settings.scrollToBottom)\n                        $this.scrollTo('100%', 0, { axis: 'y' });\n                }\n                else\n                {\n                    clearInterval(intervalId);\n                    if (settings.playSound)\n                        soundManager.stop('coolType');\n                    var blinkId = setInterval(blinkCaret, settings.caretBlinkSpeed);\n                    setTimeout(function ()\n                    {\n                        clearInterval(blinkId);\n                        $caret.remove();\n                        if (callback !== undefined) callback($this);\n                    }, settings.delayAfter);\n                }\n                index++;\n            }, settings.speed);\n        }, settings.delayBefore);\n    };\n\n    $(function ()\n    {\n        $.coolType.setup();\n    });\n})(jQuery);\n"]],"start1":0,"start2":0,"length1":0,"length2":4933}]],"length":4933}
